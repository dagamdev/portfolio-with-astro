---
import type { ProjectData } from '@/types'
import TextRender from './TextRender.astro'

interface Props {
  styleType: 'sm' | 'lg'
  project: ProjectData
}
const { styleType, project } = Astro.props
---

<>
  {styleType === 'lg'
    ? <article>
        <img 
          src={`/api/project/screenshots/${project.id}/dark.webp`} 
          alt={`Screenshot de ${project.title?.[0].content}`}
        >
        <h3><TextRender textData={project.title} /></h3>
      </article>
    : <a href={'/project/' + project.id} 
        class="block rounded-lg max-w-[300px] border border-neutral-600 overflow-hidden shadow-gray-400/10 bg-neutral-900">
        <img 
          src={`/api/project/screenshots/${project.id}/dark.webp`} 
          alt={`Screenshot de ${project.title?.[0].content}`}
        >
        <section class="p-3">
          <h3 class="mb-2 text-xl font-semibold text-gray-400">{project.title?.[0].content}</h3>
          <p class="mb-4 text-pretty">{project.description[0].content}</p>
        </section>
      </a>
  }
</>

<style>
  p {
    display: -webkit-box;
    overflow: hidden;
    -webkit-line-clamp: 5;
    -webkit-box-orient: vertical;
    text-overflow: ellipsis;
  }
</style>
